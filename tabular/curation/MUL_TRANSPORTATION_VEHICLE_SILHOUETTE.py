from tabular.datasets.manual_curation_obj import CuratedFeature, CuratedTarget
from tabular.preprocessing.objects import SupervisedTask

'''
Dataset Name: vehicle
====
Examples: 846
====
URL: https://www.openml.org/search?type=data&id=54
====
Description: **Author**: Dr. Pete Mowforth and Dr. Barry Shepherd  
**Source**: [UCI](https://archive.ics.uci.edu/ml/datasets/Statlog+(Vehicle+Silhouettes))
**Please cite**: Siebert,JP. Turing Institute Research Memorandum TIRM-87-018 "Vehicle Recognition Using Rule Based Methods" (March 1987)  

 NAME
         vehicle silhouettes
 
 PURPOSE
         to classify a given silhouette as one of four types of vehicle,
         using  a set of features extracted from the silhouette. The
         vehicle may be viewed from one of many different angles.  
 
 PROBLEM TYPE
         classification
         
 SOURCE
         Drs.Pete Mowforth and Barry Shepherd
         Turing Institute
         George House
         36 North Hanover St.
         Glasgow
         G1 2AD
 
 CONTACT
         Alistair Sutherland
         Statistics Dept.
         Strathclyde University
         Livingstone Tower
         26 Richmond St.
         GLASGOW G1 1XH
         Great Britain
         
         Tel: 041 552 4400 x3033
         
         Fax: 041 552 4711 
         
         e-mail: alistair@uk.ac.strathclyde.stams
 
 HISTORY
         This data was originally gathered at the TI in 1986-87 by
         JP Siebert. It was partially financed by Barr and Stroud Ltd.
         The original purpose was to find a method of distinguishing
         3D objects within a 2D image by application of an ensemble of
         shape feature extractors to the 2D silhouettes of the objects.
         Measures of shape features extracted from example silhouettes
         of objects to be discriminated were used to generate a class-
         ification rule tree by means of computer induction.
          This object recognition strategy was successfully used to 
         discriminate between silhouettes of model cars, vans and buses
         viewed from constrained elevation but all angles of rotation.
          The rule tree classification performance compared favourably
         to MDC (Minimum Distance Classifier) and k-NN (k-Nearest Neigh-
         bour) statistical classifiers in terms of both error rate and
         computational efficiency. An investigation of these rule trees
         generated by example indicated that the tree structure was 
         heavily influenced by the orientation of the objects, and grouped
         similar object views into single decisions.
 
 DESCRIPTION
          The features were extracted from the silhouettes by the HIPS
         (Hierarchical Image Processing System) extension BINATTS, which 
         extracts a combination of scale independent features utilising
         both classical moments based measures such as scaled variance,
         skewness and kurtosis about the major/minor axes and heuristic
         measures such as hollows, circularity, rectangularity and
         compactness.
          Four "Corgie" model vehicles were used for the experiment:
         a double decker bus, Cheverolet van, Saab 9000 and an Opel Manta 400.
         This particular combination of vehicles was chosen with the 
         expectation that the bus, van and either one of the cars would
         be readily distinguishable, but it would be more difficult to
         distinguish between the cars.
          The images were acquired by a camera looking downwards at the
         model vehicle from a fixed angle of elevation (34.2 degrees
         to the horizontal). The vehicles were placed on a diffuse
         backlit surface (lightbox). The vehicles were painted matte black
         to minimise highlights. The images were captured using a CRS4000
         framestore connected to a vax 750. All images were captured with
         a spatial resolution of 128x128 pixels quantised to 64 greylevels.
         These images were thresholded to produce binary vehicle silhouettes,
         negated (to comply with the processing requirements of BINATTS) and
         thereafter subjected to shrink-expand-expand-shrink HIPS modules to
         remove "salt and pepper" image noise.
          The vehicles were rotated and their angle of orientation was measured
         using a radial graticule beneath the vehicle. 0 and 180 degrees
         corresponded to "head on" and "rear" views respectively while 90 and
         270 corresponded to profiles in opposite directions. Two sets of
         60 images, each set covering a full 360 degree rotation, were captured
         for each vehicle. The vehicle was rotated by a fixed angle between 
         images. These datasets are known as e2 and e3 respectively.
          A further two sets of images, e4 and e5, were captured with the camera 
         at elevations of 37.5 degs and 30.8 degs respectively. These sets
         also contain 60 images per vehicle apart from e4.van which contains
         only 46 owing to the difficulty of containing the van in the image
         at some orientations.
 
 ATTRIBUTES
         
         COMPACTNESS     (average perim)**2/area
         
         CIRCULARITY     (average radius)**2/area
         
         DISTANCE CIRCULARITY    area/(av.distance from border)**2
         
         RADIUS RATIO    (max.rad-min.rad)/av.radius
         
         PR.AXIS ASPECT RATIO    (minor axis)/(major axis)
         
         MAX.LENGTH ASPECT RATIO (length perp. max length)/(max length)
         
         SCATTER RATIO   (inertia about minor axis)/(inertia about major axis)
         
         ELONGATEDNESS           area/(shrink width)**2
         
         PR.AXIS RECTANGULARITY  area/(pr.axis length*pr.axis width)
         
         MAX.LENGTH RECTANGULARITY area/(max.length*length perp. to this)
         
         SCALED VARIANCE         (2nd order moment about minor axis)/area
         ALONG MAJOR AXIS
         
         SCALED VARIANCE         (2nd order moment about major axis)/area
         ALONG MINOR AXIS 
         
         SCALED RADIUS OF GYRATION       (mavar+mivar)/area
         
         SKEWNESS ABOUT  (3rd order moment about major axis)/sigma_min**3
         MAJOR AXIS
         
         SKEWNESS ABOUT  (3rd order moment about minor axis)/sigma_maj**3
         MINOR AXIS
                 
         KURTOSIS ABOUT  (4th order moment about major axis)/sigma_min**4
         MINOR AXIS  
                 
         KURTOSIS ABOUT  (4th order moment about minor axis)/sigma_maj**4
         MAJOR AXIS
         
         HOLLOWS RATIO   (area of hollows)/(area of bounding polygon)
         
          Where sigma_maj**2 is the variance along the major axis and
         sigma_min**2 is the variance along the minor axis, and
         
         area of hollows= area of bounding poly-area of object 
         
          The area of the bounding polygon is found as a side result of
         the computation to find the maximum length. Each individual
         length computation yields a pair of calipers to the object
         orientated at every 5 degrees. The object is propagated into
         an image containing the union of these calipers to obtain an
         image of the bounding polygon. 
         
 NUMBER OF CLASSES
 
         4       OPEL, SAAB, BUS, VAN
 
 NUMBER OF EXAMPLES
 
                 Total no. = 946
                 
                 No. in each class
                 
                   opel 240
                   saab 240
                   bus  240
                   van  226
                 
                 
                 100 examples are being kept by Strathclyde for validation.
                 So StatLog partners will receive 846 examples.
 
 NUMBER OF ATTRIBUTES
 
                 No. of atts. = 18
====
Target Variable: Class (nominal, 4 distinct): ['bus', 'saab', 'opel', 'van']
====
Features:

COMPACTNESS (numeric, 44 distinct): ['89', '86', '93', '85', '90', '91', '94', '88', '96', '98']
CIRCULARITY (numeric, 27 distinct): ['43', '45', '44', '46', '42', '38', '37', '40', '39', '36']
DISTANCE_CIRCULARITY (numeric, 63 distinct): ['66', '70', '68', '103', '101', '85', '105', '72', '98', '77']
RADIUS_RATIO (numeric, 134 distinct): ['197.0', '162.0', '169.0', '125.0', '139.0', '150.0', '199.0', '130.0', '186.0', '136.0']
PR.AXIS_ASPECT_RATIO (numeric, 37 distinct): ['64', '59', '62', '56', '60', '63', '57', '58', '61', '65']
MAX.LENGTH_ASPECT_RATIO (numeric, 21 distinct): ['7', '6', '8', '10', '11', '9', '5', '12', '4', '3']
SCATTER_RATIO (numeric, 131 distinct): ['150.0', '149.0', '151.0', '157.0', '152.0', '148.0', '153.0', '155.0', '154.0', '147.0']
ELONGATEDNESS (numeric, 35 distinct): ['45', '31', '44', '43', '46', '30', '32', '33', '42', '50']
PR.AXIS_RECTANGULARITY (numeric, 13 distinct): ['19', '18', '20', '24', '25', '23', '22', '21', '17', '28']
MAX.LENGTH_RECTANGULARITY (numeric, 66 distinct): ['144', '145', '143', '147', '146', '134', '148', '131', '141', '142']
SCALED_VARIANCE_MAJOR (numeric, 128 distinct): ['170.0', '169.0', '173.0', '175.0', '168.0', '174.0', '172.0', '171.0', '166.0', '226.0']
SCALED_VARIANCE_MINOR (numeric, 424 distinct): ['330.0', '327.0', '333.0', '331.0', '325.0', '354.0', '341.0', '332.0', '367.0', '322.0']
SCALED_RADIUS_OF_GYRATION (numeric, 143 distinct): ['186.0', '171.0', '176.0', '172.0', '174.0', '173.0', '185.0', '214.0', '218.0', '139.0']
SKEWNESS_ABOUT_MAJOR (numeric, 39 distinct): ['72', '71', '67', '74', '70', '73', '69', '66', '68', '75']
SKEWNESS_ABOUT_MINOR (numeric, 23 distinct): ['1', '0', '5', '4', '6', '2', '7', '3', '8', '9']
KURTOSIS_ABOUT_MAJOR (numeric, 41 distinct): ['11', '7', '4', '9', '14', '1', '6', '2', '5', '8']
KURTOSIS_ABOUT_MINOR (numeric, 30 distinct): ['188', '187', '189', '186', '192', '190', '191', '180', '183', '181']
HOLLOWS_RATIO (numeric, 31 distinct): ['198', '197', '196', '199', '201', '195', '183', '184', '200', '202']
'''

CONTEXT = "Vehicle Silhouettes Detection"
TARGET = CuratedTarget(raw_name='Class', new_name="Vehicle Type", task_type=SupervisedTask.MULTICLASS)
COLS_TO_DROP = []
FEATURES = []