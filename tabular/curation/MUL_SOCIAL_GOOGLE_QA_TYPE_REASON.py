from tabular.datasets.manual_curation_obj import CuratedFeature, CuratedTarget
from tabular.preprocessing.objects import SupervisedTask

'''
Dataset Name: google_qa_question_type_reason_explanation
====
Examples: 4863
====
URL: https://www.openml.org/search?type=data&id=46658
====
Description: Given a question and an answer (from the Crowdsource team at Google) as well as additional
    category features, predict the (subjective) type of the question in relation to the answer. These data
    stem from the same source as qaa, where the different labels were both prediction targets in the
    original (multi-label) Kaggle competition.
  
 Dataset found from the paper: Benchmarking multimodal automl for tabular data with text fields. arXiv preprint arXiv:2111.02705.
 
https://www.kaggle.com/c/google-quest-challenge

Description
Computers are really good at answering questions with single, verifiable answers. But, humans are often still better at answering questions about opinions, recommendations, or personal experiences.

Humans are better at addressing subjective questions that require a deeper, multidimensional understanding of context - something computers aren't trained to do well…yet.. Questions can take many forms - some have multi-sentence elaborations, others may be simple curiosity or a fully developed problem. They can have multiple intents, or seek advice and opinions. Some may be helpful and others interesting. Some are simple right or wrong.

Unfortunately, it’s hard to build better subjective question-answering algorithms because of a lack of data and predictive models. That’s why the CrowdSource team at Google Research, a group dedicated to advancing NLP and other types of ML science via crowdsourcing, has collected data on a number of these quality scoring aspects.

In this competition, you’re challenged to use this new dataset to build predictive algorithms for different subjective aspects of question-answering. The question-answer pairs were gathered from nearly 70 different websites, in a "common-sense" fashion. Our raters received minimal guidance and training, and relied largely on their subjective interpretation of the prompts. As such, each prompt was crafted in the most intuitive fashion so that raters could simply use their common-sense to complete the task. By lessening our dependency on complicated and opaque rating guidelines, we hope to increase the re-use value of this data set. What you see is what you get!

Demonstrating these subjective labels can be predicted reliably can shine a new light on this research area. Results from this competition will inform the way future intelligent Q&A systems will get built, hopefully contributing to them becoming more human-like.


====
Target Variable: question_type_reason_explanation (numeric, 5 distinct): ['0.0', '0.3333', '1.0', '0.6667', '0.5']
====
Features:

qa_id (numeric, 4863 distinct): ['6803', '4632', '2179', '6570', '1155', '3196', '2759', '4040', '8266', '81']
question_title (string, 3169 distinct): ['What is the best introductory Bayesian statistics textbook?', 'Important non-technical course for programmers?', 'What does mathematics have to do with programming?', 'What are the benefits of owning a physical book?', 'How to prevent the "Too awesome to use" syndrome', 'How do I deal with a slow and undedicated colleague in the team?', 'Isn’t the FAQ label obsolete by now?', 'hide javascript/jquery scripts from html page?', 'Is there any performance difference between ++i and i++ in C#?', 'Making sure that you have comprehended a concept']
question_body (string, 3169 distinct): ['Which is the best introductory textbook for Bayesian statistics?\n\nOne book per answer, please.\n', 'What kind of non-technical training course do you suggest for a programmer? Example could be public speaking course, presentation skill, English, business writing, or anything not related to programming or software engineering itself.\n', 'I just started a diploma in software development. Right now we\'re starting out with basic Java and such (so right from the bottom you might say) - which is fine, I have no programming experience apart from knowing how to do "Hello World" in Java.\n\nI keep hearing that mathematics is pertinent to coding, but how is it so? What general examples would show how mathematics and programming go together, or are reliant on one another?\n\nI apologize of my question is vague, I\'m barely starting to get a rough idea of the kind of world I\'m stepping into as a code monkey student...\n', 'I have seen this question about updates of the D&amp;D 4th Edition books, and it got me thinking.\nSince I got my Kindle I have not read a single paper novel; they have fewer drawbacks compared to digital copies than rpg rulebooks.\n\n\nDead-tree types have some benefits like looking good on a bookshelf, but any ebook reader weighs less with 100 novels than the usual hard-cover book. \nIf you want to look for the damage of Ares Alpha, even with a half-decent tablet it takes less than 2 seconds.  \nDigital copies do not get worn, they never get unwanted earmarks, but you can bookmark them.\nRulebooks do get updates, and unless you are willing to take a pen to your book, your hard copies will never contain them. The pdfs can be edited and resent to the buyers. \nEven better is the WotC approach with the DDI, you can look up any monster or item or (almost any) rule, in the most recent form, for 3 years at the cost of seven books. \n\n\nI think this is the way to go, even considering the horribly slow character builder. Although I must admit good illustration can help build the athmosphere.\n\nSo what am I missing? Why are people buying rpg rulebooks in paper format? Why are books even published, I do not need to know if feats are supposed to be on the right page and skills on the left, I just want a list of them, filterable any way I want. \n\nIs this just a necessary part of earning money? I understand that pdfs are copied illegally, but the Compendium is not. \n', "When you give the player a rare but powerful item which can only be used once but is never really required to proceed, most players will not use it at all, because they are waiting for the perfect moment. But even when this moment comes, they will still be reluctant to use it, because there might be an even better moment later. So they keep hoarding it for a moment which will never come. \n\nIn the end, they will carry the item around until it is outclassed by other, more readily available resources, or even until the very end of the game. That means that such one-shot items don't provide any gameplay-value at all. They are simply too awesome to use.\n\nWhat can you do to encourage the player to make use of their one-shot items and not hoard them?\n", 'I have been working on a new project. The project works like this: The end user can access a webapp using a link and he can add multiple systems on his network and manage that particular systems details. My part involves the front end and the webserver, which is done in python. My python actually communicates with another project which is entirely done in c &amp; c++. The c/c++ project is the main app which does all the functionality. My python sends the user request to it and displays the response from it to the user. \n\nI am very familiar with my work and I will finish it soon. Since that\'s not much work in it. And I am a person who loves to work. I spends most of the time in office and only go home when I feel sleepy.\n\nThe c/c++ app is managed by another colleague who has 5+ year experience and can do things much faster than me, but he never does it. May be he doesn\'t like to do it. His app crashes often when my python communicate with it or returns wrong values. It\'s full of bugs. Since my app depends on it, I am having a hard time building it. Instead of fixing the bugs, he asks me to slow down my work. He asks me to tell manager that my work needs a lot of time. He is asking me to fool the manager and even forcing me to work slowly like him.\n\nDuring project meeting, when manager asks him about the bugs he says that he fixed everything and it works fine. Since he is my colleague, I couldn\'t tell anything to the manager. I obviously need to have a good relationship with my colleagues more than my manager, since most of the time we will be with our colleagues, not with the manager.\n\nI am not able to tell the manager anything regarding this, since if manager asks him why, then he may think I complained about him to the manager. And he keeps on lying in the meeting. And since he fixes the bug slowly, it even slows down my work. Now I thought of working on the front-end part of my app  and finishing it off so that in the mean time he can make his project stable. Now he is asking me to tell the manager that my front end part require a lot of work and I may need more and more time, simply so that he can drag the project down. And the sad thing is our actual manager has gone to the US, so we have a temporary manager and this guy doesn\'t know about the project much, so the c,c++ just fools him.\n\nCan anyone suggest me how I deal with this?\nI wanted to finish off the project soon. How can I make him work even by maintaining a good relationship with him?\n\nResponses to comments:\n\n\n  If he\'s really deliberately misleading the company, you should report him to management.\n\n\nI am new to this company and the other guy has been there for many years. And I have just started knowing my colleagues. If I directly go and complaint him, I don\'t think so I can make good relationship with my other colleagues. Even he has the power to mislead them. I am not telling he is a bad guy, he can do the work, but he is not doing it.\n\n\n  Doesn\'t your company have any kind of bug tracking system ? \n\n\nHere actual bug tracking system isn\'t there. The company tries to finish off the project as soon as possible and gives it to the QA. And then fixes the bugs reported by QA. \n\n\n  This is why companies should give employees stock / options or some sort of ownership. That way you can literally tell the guy "You are costing me monetary growth... don\'t you want to make money also?".\n\n\nThe company has the stock options they have given me a 2500 share, mostly he too would have got some more.\n\n\n  Seniority does deserve some benefit of a doubt. You really need to speak to him first and try to understand the problem. He may be out of his depth, you may be able to help him, there could easily be variables you are unaware of. It may be hard now, but you could easily make the situation a lot worse by jumping the gun. \n\n\nI even does it, first his app wasn\'t handling multiple requests at a time, he was using a queue to handle the requests I sent to him. I even suggested to him some of my ideas on it. He said he already had these ideas, and will be executing them. His explanations was: "Everything require certain time to do and this is a project which may need two years to complete and we are asked to finish it in two months". I used to have a hard time coding during first few weeks because of this bug. But now he fixed it. But he is using a single queue for a user requests and that is now slowing down the app, since it processes one request at a time.\n\n\n  What is QA doing this whole time? Why aren\'t they reporting/confirming the status of the project(s)? \n\n\nThe manager is the person who decides when to give to the QA. As of now it has not yet given to QA. He said we should give it by this month end. \n', 'Don’t get me wrong in the beginning of reading this. I really mean the label and not the content of FAQ. The content is very useful if its’ made the right way (as here on ux.se), but there are plenty of examples where it isn’t. The real question concerns the label which is a convention I’d like to challenge.\n\nHistory\n\nIn 1647 Matthew Hopkins wrote The Discovery of Witches which were introduced as "Certain Queries answered" and had the form of a list of Question and Answer, even if the topic is inappropriate by today’s standards. The label FAQ origins from the early 1980s mailing lists where NASA hoped to get new users read the old mail conversations, which were not the case. Instead the same questions were answered again and again and the need for FAQ was born. The acronym FAQ was invented by Eugene Miya and FAQ were later used in mail on a weekly basis at first and later on as a daily mail.\n\n\n  Today FAQ is more frequently used to refer to the list, and a text consisting of questions and their answers is often called an FAQ regardless of whether the questions are actually frequently asked, if they are asked at all.[1]\n\n\nProblem\n\nAcronyms are generally bad, since it excludes those who do not know the meaning. They either have to search for the acronym, if they are interested, or just ignore it. If a label is ignored, there is not much use of it and an entire section of valid content is lost by bad labeling. However, it is a very strong web convention which might lead to confusion over time for experienced users.\nAlso the original meaning have changed (see quote), which also implies that the label would be wrong.\n\nQuestion\n\nIsn’t the FAQ label obsolete by now? and if so How do we relabel it to suit both experienced and new users?\n\n\n\nEdit: I’d really like to know why we can or cannot change the label FAQ. Current answer does not meet that criterion.\n\n[1] http://en.wikipedia.org/wiki/FAQ\n', 'How do I hide my javascript/jquery scripts from html page  (from view source on right click)? please give suggestion to achive this .\n\nThanks.\n', 'Is there any performance difference between using something like\n\nfor(int i = 0; i &lt; 10; i++) { ... }\n\n\nand\n\nfor(int i = 0; i &lt; 10; ++i) { ... }\n\n\nor is the compiler able to optimize in such a way that they are equally fast in the case where they are functionally equivalent?\n\nEdit:\nThis was asked because I had a discussion with a co-worker about it, not because I think its a useful optimization in any practical sense. It is largely academic. \n', "Hi,\n\nI have a question that I've been thinking about for a long time.\n\nHow can you assure yourself that you've fully comprehended a concept or the true meaning of a theorem in mathematics?\n\nI mean how can you realize that you totally get the concept and it's time to move on to the next pages of the book you're reading?\n\nThanks in advance for your responses.\n"]
question_user_name (string, 2869 distinct): ['Mike', 'Alex', 'David', 'Shane', 'Louis Rhys', 'András', 'Eric', 'jmac', 'ysap', 'Benny Skogberg']
question_user_page (string, 3045 distinct): ['https://programmers.stackexchange.com/users/8486', 'https://stats.stackexchange.com/users/5', 'https://rpg.stackexchange.com/users/9552', 'https://judaism.stackexchange.com/users/128', 'https://ux.stackexchange.com/users/4679', 'https://scifi.stackexchange.com/users/976', 'https://programmers.stackexchange.com/users/34092', 'https://electronics.stackexchange.com/users/1225', 'https://programmers.stackexchange.com/users/48536', 'https://gamedev.stackexchange.com/users/21890']
answer (string, 4863 distinct): ["For others that wound up here: the best solution given the constraints, create XML at runtime and using .NET, is probably the first link: \nIs there a class to generate a sample XML document from XSD schema in .NET\nAt least, that's what I am going to try :). \n", 'Gesture recognizers handle this sort of logic quite elegantly. Have a UITapGestureRecognizer on view2, and do whatever you want on view1 (e.g. a UIPanGestureRecognizer). That takes care of all of the "what gestures are recognized by what views" logic you need.\n', "I think that Emma's Magic is blue because it is light magic, rumple's is red because he has killed so many, Regina's is purple because she believes she is the most beautiful and fairest of them all, and Zelena's is green beacause of her envy of Regina, but before she became wicked, she was mad that her father didn't appreciate her and had envy over everyone else who was treated better than her. Last but not least, the good witch of the south (I think) has white magic that I think represents honesty, goodness, and wisdom\n", 'Try using sysv-rc-conf\n\nsudo apt-get install sysv-rc-conf\n\n\nand to start managing the services, execute\n\nsudo sysv-rc-conf\n\n\nWhich will bring up interactive window like this\n\n\n\nYou can further navigate through pages using Ctrl+n for next page and Ctrl+p for previous page .You can enable and disable services by selecting SPACE on desired runlevels.\n\nAnother alternate would be  Jobs-Admin by installing through \n\nsudo apt-get install jobs-admin\n\n\nWhich also provides GUI like this \n\n\n\nFor showing more jobs , you have to tick the Show Protected Jobs from its menu.\n\nAnd third option would be chkconfig,\n\nsudo apt-get install chkconfig\n\n\nIt can be used via CLI chkconfig, showing list of On/Off jobs.\nAlso we can view system services using chkconfig –list\n\nServices can be turned on using\n\nchkconfig &lt;service&gt; on\n\n\nServices can be turned off using\n\nchkconfig &lt;service&gt; off\n\n\nAnd we can even add our own service, using a proper init script with proper headings.\n\nchkconfig --add &lt;service&gt;\n\n\nAnd another option can be referred here update-rc.d , explained briefly here. \n\nNote that for Ubuntu Server 12.04, update-rc.d is used instead of chkconfig.\n', "I have to disagree on the order of goodness - if the OP uses launchd (either with a manually created plist or one created with lingon), they can have it run at boot. If they use an AppleScript based solution like RouteSplit, they won't be able to run it without a user logged in.\n\nCharles, I'm curious, why does using an OS vendor sanctioned tool like launchd seem hackish to you?\n", "You need the = sign:\n\n&lt;%= render :partial =&gt; 'form', :locals =&gt; {:f =&gt; f} %&gt;\n\n\n(you had &lt;% render ....)\n", "It limits current to protect the switch (transistor, etc.) and allows signal sources with limited driving capability to change that node's voltage. Rails generally have high drive capability, or low resistance. Think voltage divider, including source impedance of signal and rail, then let the rail impedance be 0-ohms for simplicity.\n\nOther factors, other than operating current and voltage drops, to determine the pull resistance is charge time and substrate leakage. A 2M-ohm pull-down resistor on a top layer exposed to humidity and salts won't do anything due to sub-1M-ohm electrical resistance of grime layer.\n", 'This will work if multiple libraries use the same $ in a webpage.\n\n(function($){\n\n//Write your jQuery code here as usual using $.\n\n})(jQuery);\n\n\nWe define an anonymous function here, which takes jQuery as its only argument. It gets mapped to $ in the above function and your code will work just as expected. You can very well do things like this.\n\n(function($){\n    $(document).ready(function(){\n        //Write your jQuery code here as usual using $.\n    });\n})(jQuery);\n\n', 'Your script still worked in my limited testing, but you could also try something like this:\n\ntell window 1 of application "Safari"\n    close (tabs where index &gt; (get index of current tab))\nend\n\n', 'First of all, I do not think that having a signature layout is any good for its own sake. In most fields, few people (apart from your workgroup) will attend more than one of your talks and even those who will, will likely not notice the consistency of your layout¹ –\xa0unless it’s particularly memorable, which is almost certainly not a good thing². And even if somebody notices, they will likely (and hopefully) value the quality of your design more, let alone the quality of your content.\n\nConsidering the required work, there are two aspects: (1) Creating (or choosing) a layout and (2) Using the layout throughout your presentations.\n\nAspect\xa01 takes a few hours, if you are sufficiently apt with your presentation program (and it does not suck) and know some basics of graphic design (which I suppose you do, if you are asking such a question).\nMostly it’s selecting a colour scheme, one or two fonts and a default arrangement of your slides and realising them in your presentation program and in the programs you use to generate your figures.\nRegarding the constraints of existing templates, remember that (unless your problems are very individual) if no templates are the way you want them, it is very likely that you should be careful what you are wishing for.\nAlso beware that the fact that you have to rely on (usually unknown) projectors imposes some constraints on your font and colour selections.\n\nAspect\xa02 will usually save you some time, whether you are using a prebuilt design or your own: For example, you are very likely to reuse some material –\xa0in particular figures. And if you care about your slides being consistent (which I suppose you do), you avoid spending some time in adapting colour schemes, for example. In particular, there is usually no benefit in switching designs.\n\nFrom personal experience, I have spent some time in working out a design and have not regretted it yet.\n\n¹\u202fJust think about, how few people give horribly designed presentations and thus can be assumed not even to notice the flaws in their own presentations, let alone the qualities of your’s.\n²\u202fAs you should not notice good design that much.\n']
answer_user_name (string, 3433 distinct): ['egreg', 'Marius', 'Scott', 'Andy aka', 'Alex', 'rook', 'Pᴀᴜʟsᴛᴇʀ2', 'Gilles', 'Mark', 'Thomas Pornin']
answer_user_page (string, 3667 distinct): ['https://tex.stackexchange.com/users/4427', 'https://magento.stackexchange.com/users/146', 'https://electronics.stackexchange.com/users/20218', 'https://security.stackexchange.com/users/975', 'https://ell.stackexchange.com/users/32', 'https://mechanics.stackexchange.com/users/4152', 'https://gis.stackexchange.com/users/9159', 'https://tex.stackexchange.com/users/3954', 'https://physics.stackexchange.com/users/1325', 'https://security.stackexchange.com/users/655']
url (string, 3169 distinct): ['http://stats.stackexchange.com/questions/125/what-is-the-best-introductory-bayesian-statistics-textbook', 'http://programmers.stackexchange.com/questions/31567/important-non-technical-course-for-programmers', 'http://programmers.stackexchange.com/questions/136987/what-does-mathematics-have-to-do-with-programming', 'http://rpg.stackexchange.com/questions/34615/what-are-the-benefits-of-owning-a-physical-book', 'http://gamedev.stackexchange.com/questions/55558/how-to-prevent-the-too-awesome-to-use-syndrome', 'http://programmers.stackexchange.com/questions/101528/how-do-i-deal-with-a-slow-and-undedicated-colleague-in-the-team', 'http://ux.stackexchange.com/questions/18600/isn-t-the-faq-label-obsolete-by-now', 'http://stackoverflow.com/questions/1628799/hide-javascript-jquery-scripts-from-html-page', 'http://stackoverflow.com/questions/467322/is-there-any-performance-difference-between-i-and-i-in-c', 'http://mathoverflow.net/questions/26950']
category (string, 5 distinct): ['TECHNOLOGY', 'STACKOVERFLOW', 'CULTURE', 'SCIENCE', 'LIFE_ARTS']
host (string, 63 distinct): ['stackoverflow.com', 'english.stackexchange.com', 'superuser.com', 'electronics.stackexchange.com', 'serverfault.com', 'math.stackexchange.com', 'physics.stackexchange.com', 'tex.stackexchange.com', 'programmers.stackexchange.com', 'askubuntu.com']
question_asker_intent_understanding (numeric, 9 distinct): ['1.0', '0.8889', '0.7778', '0.6667', '0.8333', '0.3333', '0.5556', '0.5', '0.4444']
question_body_critical (numeric, 9 distinct): ['0.3333', '0.5556', '0.4444', '0.6667', '0.7778', '1.0', '0.8889', '0.5', '0.8333']
question_conversational (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_expect_short_answer (numeric, 5 distinct): ['1.0', '0.6667', '0.0', '0.3333', '0.5']
question_fact_seeking (numeric, 5 distinct): ['1.0', '0.6667', '0.3333', '0.0', '0.5']
question_has_commonly_accepted_answer (numeric, 5 distinct): ['1.0', '0.6667', '0.0', '0.3333', '0.5']
question_interestingness_others (numeric, 9 distinct): ['0.6667', '0.5556', '0.4444', '0.7778', '0.3333', '0.5', '0.8889', '1.0', '0.8333']
question_interestingness_self (numeric, 9 distinct): ['0.3333', '0.4444', '0.5556', '0.6667', '0.7778', '1.0', '0.8889', '0.5', '0.8333']
question_multi_intent (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_not_really_a_question (numeric, 5 distinct): ['0.0', '0.3333', '0.5', '0.6667', '1.0']
question_opinion_seeking (numeric, 5 distinct): ['0.0', '0.6667', '0.3333', '1.0', '0.5']
question_type_choice (numeric, 5 distinct): ['0.0', '0.3333', '1.0', '0.6667', '0.5']
question_type_compare (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_type_consequence (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_type_definition (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_type_entity (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_type_instructions (numeric, 5 distinct): ['0.0', '1.0', '0.6667', '0.3333', '0.5']
question_type_procedure (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '1.0', '0.5']
question_type_spelling (numeric, 3 distinct): ['0.0', '0.3333', '0.6667']
question_well_written (numeric, 9 distinct): ['1.0', '0.8889', '0.7778', '0.6667', '0.5556', '0.4444', '0.8333', '0.3333', '0.5']
answer_helpful (numeric, 9 distinct): ['1.0', '0.8889', '0.7778', '0.6667', '0.8333', '0.3333', '0.5556', '0.5', '0.4444']
answer_level_of_information (numeric, 9 distinct): ['0.6667', '0.5556', '0.7778', '0.3333', '0.4444', '0.5', '0.8889', '0.8333', '1.0']
answer_plausible (numeric, 9 distinct): ['1.0', '0.8889', '0.6667', '0.8333', '0.7778', '0.3333', '0.5556', '0.5', '0.4444']
answer_relevance (numeric, 9 distinct): ['1.0', '0.8889', '0.7778', '0.8333', '0.6667', '0.5556', '0.3333', '0.5', '0.4444']
answer_satisfaction (numeric, 17 distinct): ['1.0', '0.8', '0.9333', '0.8667', '0.9', '0.7333', '0.6', '0.6667', '0.7', '0.5333']
answer_type_instructions (numeric, 5 distinct): ['0.0', '1.0', '0.6667', '0.3333', '0.5']
answer_type_procedure (numeric, 5 distinct): ['0.0', '0.3333', '0.6667', '0.5', '1.0']
answer_type_reason_explanation (numeric, 5 distinct): ['0.0', '1.0', '0.6667', '0.3333', '0.5']
answer_well_written (numeric, 9 distinct): ['1.0', '0.8889', '0.7778', '0.6667', '0.8333', '0.5556', '0.4444', '0.5', '0.3333']
'''

CONTEXT = "Google QA Question Type Reason Explanation"
TARGET = CuratedTarget(raw_name="question_type_reason_explanation", task_type=SupervisedTask.MULTICLASS,
                       label_mapping={'0.0': '1',
                                      '0.3333333333333333': '2',
                                      '0.5': '3',
                                      '0.6666666666666666': '4',
                                      '1.0': '5'})
COLS_TO_DROP = ["qa_id"]
FEATURES = []
