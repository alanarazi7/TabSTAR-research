from typing import List

from tabular.benchmarks.utils import get_suite_datasets
from tabular.datasets.tabular_datasets import OpenMLDatasetID

# 42728 (Airlines_DepDelay_10M), 287 (wine_quality) and (42724) OnlineNewsPopularity were excluded due to overlap
AMLB_BIN = [OpenMLDatasetID.BIN_ANONYM_ADA,
            OpenMLDatasetID.BIN_ANONYM_ALBERT,
            OpenMLDatasetID.BIN_ANONYM_APS_FAILURE,
            OpenMLDatasetID.BIN_ANONYM_ARCENE,
            OpenMLDatasetID.BIN_ANONYM_AUSTRALIAN_CREDIT_APPROVAL,
            OpenMLDatasetID.BIN_ANONYM_BIORESPONSE,
            OpenMLDatasetID.BIN_ANONYM_CHRISTINE,
            OpenMLDatasetID.BIN_ANONYM_GUILLERMO,
            OpenMLDatasetID.BIN_ANONYM_GINA,
            OpenMLDatasetID.BIN_ANONYM_JASMINE,
            OpenMLDatasetID.BIN_ANONYM_KDDCUP_09_APPETENCY,
            OpenMLDatasetID.BIN_ANONYM_KDDCUP_09_UPSELLING,
            OpenMLDatasetID.BIN_ANONYM_MADELINE,
            OpenMLDatasetID.BIN_ANONYM_NUMERAI_28_6,
            OpenMLDatasetID.BIN_ANONYM_PHILIPPINE,
            OpenMLDatasetID.BIN_ANONYM_PORTO_SEGURO,
            OpenMLDatasetID.BIN_ANONYM_RICARDO,
            OpenMLDatasetID.BIN_ANONYM_SATELLITE,
            OpenMLDatasetID.BIN_ANONYM_SYLVINE,
            OpenMLDatasetID.BIN_COMPUTERS_KC1_CODE_DEFECTIONS,
            OpenMLDatasetID.BIN_COMPUTERS_PC4_CODE_DEFECTIONS,
            OpenMLDatasetID.BIN_COMPUTERS_PHISHING_WEBSITE_HUDDERSFIELD,
            OpenMLDatasetID.BIN_CONSUMER_CHURN_TELEPHONY,
            OpenMLDatasetID.BIN_CONSUMER_CLICK_PREDICTION,
            OpenMLDatasetID.BIN_CONSUMER_INTERNET_ADVERTISEMENTS,
            OpenMLDatasetID.BIN_FINANCIAL_ADULT_INCOME,
            OpenMLDatasetID.BIN_FINANCIAL_BANK_MARKETING,
            OpenMLDatasetID.BIN_FINANCIAL_CREDIT_GERMAN,
            OpenMLDatasetID.BIN_HEALTHCARE_BLOOD_TRANSFUSION,
            OpenMLDatasetID.BIN_GEOGRAPHY_NOMAO_SEARCH_ENGINE,
            OpenMLDatasetID.BIN_NATURE_OZONE_LEVEL,
            OpenMLDatasetID.BIN_NATURE_DISEASED_TREES_WILT,
            OpenMLDatasetID.BIN_NATURE_PHONEME_SOUNDS,
            OpenMLDatasetID.BIN_PROFESSIONAL_AMAZON_EMPLOYEE_ACCESS,
            OpenMLDatasetID.BIN_SCIENCE_PARTICLE_HIGGS,
            OpenMLDatasetID.BIN_SCIENCE_PARTICLE_MINIBOONE,
            OpenMLDatasetID.BIN_SCIENCE_QSAR_BIODEG,
            OpenMLDatasetID.BIN_SOCIAL_POLICE_INCIDENTS_SAN_FRANCISCO,
            OpenMLDatasetID.BIN_SPORTS_CHESS_KR_VS_KP,
            OpenMLDatasetID.BIN_TRANSPORTATION_AIRLINES_DEPARTURE_DELAY,
            OpenMLDatasetID.BIN_TRANSPORTATION_CAR_BAD_BUY_KICK]

AMLB_REG = [OpenMLDatasetID.REG_ANONYM_ALLSTATE_CLAIM_SEVERITY,
            OpenMLDatasetID.REG_ANONYM_BUZZ_IN_SOCIAL_MEDIA_TWITTER,
            OpenMLDatasetID.REG_ANONYM_FAT_MEAT_TECATOR,
            OpenMLDatasetID.REG_ANONYM_DIONIS,
            OpenMLDatasetID.REG_ANONYM_HOUSE_16H,
            OpenMLDatasetID.REG_ANONYM_MERCEDES_BENZ_GREENER_MANUFACTURING,
            OpenMLDatasetID.MUL_ANONYM_POL,
            OpenMLDatasetID.REG_ANONYM_SANTANDER_TRANSACTION_VALUE,
            OpenMLDatasetID.REG_ANONYM_TOPO,
            OpenMLDatasetID.REG_ANONYM_YOLANDA,
            OpenMLDatasetID.REG_ANONYM_YPROP,
            OpenMLDatasetID.REG_COMPUTERS_ALGO_RUNTIME_MIP2016,
            OpenMLDatasetID.REG_COMPUTERS_ALGO_RUNTIME_SAT11,
            OpenMLDatasetID.REG_CONSUMER_BLACK_FRIDAY,
            OpenMLDatasetID.REG_CONSUMER_DIAMONDS_PRICES,
            OpenMLDatasetID.REG_FOOD_WINE_JUDGEMENT_SENSORY,
            OpenMLDatasetID.REG_HOUSES_BOSTON_HOUSE,
            OpenMLDatasetID.REG_HOUSES_BRAZILIAN_HOUSES,
            OpenMLDatasetID.REG_HOUSES_BOSTON_PRICE_NOMINAL,
            OpenMLDatasetID.REG_HOUSES_SEATTLE_KINGS_COUNTY,
            OpenMLDatasetID.REG_NATURE_ABALONE_FISH_RINGS,
            OpenMLDatasetID.REG_NATURE_QUAKE_RICHTER,
            OpenMLDatasetID.REG_SCIENCE_QSAR_TID_11,
            OpenMLDatasetID.REG_SCIENCE_QSAR_TID_10980,
            OpenMLDatasetID.REG_SOCIAL_COLLEGES_GRANTS,
            OpenMLDatasetID.REG_SOCIAL_OCCUPATION_MOBILITY_SOCMOB,
            OpenMLDatasetID.REG_SOCIAL_US_CRIME,
            OpenMLDatasetID.REG_SOCIAL_VOTING_SPACE_GEOGRAPHIC_ANALYSIS,
            OpenMLDatasetID.REG_SPORTS_MONEYBALL,
            OpenMLDatasetID.REG_TRANSPORTATION_FLIGHT_SIMULATION_ELEVATORS,
            OpenMLDatasetID.REG_TRANSPORTATION_NYC_TAXI_TIP,]

AMLB_MUL = [OpenMLDatasetID.MUL_ANONYM_AMAZON_COMMERCE_REVIEWS,
            OpenMLDatasetID.MUL_ANONYM_CNAE,
            OpenMLDatasetID.MUL_ANONYM_DILBERT,
            OpenMLDatasetID.MUL_ANONYM_DNA,
            OpenMLDatasetID.MUL_ANONYM_FABERT,
            OpenMLDatasetID.MUL_ANONYM_FIRST_ORDER_THEOREM_PROVING,
            OpenMLDatasetID.MUL_ANONYM_HELENA,
            OpenMLDatasetID.MUL_ANONYM_JANNIS,
            OpenMLDatasetID.MUL_ANONYM_MFEAT_FACTORS,
            OpenMLDatasetID.MUL_ANONYM_MICRO_MASS,
            OpenMLDatasetID.MUL_ANONYM_ROBERT,
            OpenMLDatasetID.MUL_ANONYM_VOLKERT,
            OpenMLDatasetID.MUL_COMPUTERS_IMAGE_GESTURE_PHASE_SEGMENTATION,
            OpenMLDatasetID.MUL_COMPUTERS_IMAGE_MNIST_FASHION,
            OpenMLDatasetID.MUL_COMPUTERS_IMAGE_SEGMENTATION,
            OpenMLDatasetID.MUL_COMPUTERS_INTRUSION_DETECTION_KDD,
            OpenMLDatasetID.MUL_FOOD_WINE_QUALITY_CAT,
            OpenMLDatasetID.MUL_HEALTHCARE_CMC_CONTRACEPTIVE_WOMEN,
            OpenMLDatasetID.MUL_HEALTHCARE_DIABETES_US130,
            OpenMLDatasetID.MUL_INDUSTRIAL_STEEL_PLATES_FAULT,
            OpenMLDatasetID.MUL_NATURE_EUCALYPTUS_SEED,
            OpenMLDatasetID.MUL_NATURE_FOREST_COVERTYPE,
            OpenMLDatasetID.MUL_NATURE_YEAST_PROTEIN,
            OpenMLDatasetID.MUL_SOCIAL_OKCUPID_DATING_JOB_STEM,
            OpenMLDatasetID.MUL_SPORTS_CHESS_JUNGLE,
            OpenMLDatasetID.MUL_SPORTS_CONNECT4_GAME,
            OpenMLDatasetID.MUL_TRANSPORTATION_CAR_ACCEPTABILITY,
            OpenMLDatasetID.MUL_TRANSPORTATION_SHUTTLE_SPACE,
            OpenMLDatasetID.MUL_TRANSPORTATION_VEHICLE_SILHOUETTE,]


AMLB = AMLB_REG + AMLB_BIN + AMLB_MUL

def get_amlb_datasets() -> List[OpenMLDatasetID]:
    classification = get_suite_datasets(sid=271, name='AutoML Benchmark All Classification', n_datasets=71)
    regression = get_suite_datasets(sid=269, name='AutoML Benchmark Regression', n_datasets=33)
    all_datasets = sorted(classification + regression)
    assert len(all_datasets) == 104 and len(set(all_datasets)) == 104
    openml_datasets = [OpenMLDatasetID(d) for d in all_datasets]
    return openml_datasets
